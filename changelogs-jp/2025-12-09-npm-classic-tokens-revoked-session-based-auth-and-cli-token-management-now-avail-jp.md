---
title: "npm classicトークンが失効、セッションベースの認証とCLIトークン管理が利用可能に"
date: "2025-12-09"
type: "deprecations"
labels: ["supply chain security"]
author: "Allison"
source_url: "https://github.blog/changelog/2025-12-09-npm-classic-tokens-revoked-session-based-auth-and-cli-token-management-now-available"
fetched_at: "2026-02-03T14:50:55.026991Z"
lang: "ja"
---

# npm classicトークンが失効、セッションベースの認証とCLIトークン管理が利用可能に

## Overview
以前発表したとおり、本日、npm classicトークンの非推奨化を完了します。これは、npmの認証システムを強化するセキュリティ強化イニシアチブの重要なマイルストーンです。

## Detailed Explanation
### 概要
- [以前発表した](https://github.blog/changelog/2025-11-05-npm-security-update-classic-token-creation-disabled-and-granular-token-changes/)とおり、本日、npm classicトークンの非推奨化を完了します。これは、npmの認証システムを強化する[セキュリティ強化イニシアチブ](https://github.com/orgs/community/discussions/178140)の重要なマイルストーンです。

### npm classicトークンが永久に失効
- 既存のすべてのnpm classicトークンを永久に失効させました。これらは認証に使用できなくなり、再作成も回復もできません。

### 新しいセッションベースの認証
- 本日より、`npm login`を使用すると、長期有効トークンの代わりに2時間のセッショントークンを受け取ります。これらのセッションは2時間後に自動的に期限切れになり、公開を続けるには再認証が必要です。従来のトークンとは異なり、セッショントークンはUIやCLIトークンリストに表示されません。バックグラウンドで機能して認証済みセッションを維持します。これらのセッション中、公開操作には2FAが適用され、セキュリティが追加されます。

### 粒度の細かいトークン用の新しいCLIトークン管理ツール
- npmは、粒度の細かいアクセストークンを管理するために特別に設計された新しいコマンドラインツールを導入します。この新しいCLIツールは、ターミナルから直接粒度の細かいトークンを作成、リスト化、失効させる機能を提供し、トークン管理のためにnpmウェブサイトを訪問する必要がなくなります。
- これにより、以前はclassicトークンでのみ利用可能だったのと同じ便利なコマンドライン体験が提供されます。
- 新しいトークン管理コマンドの完全なドキュメントは、[npm CLIドキュメント](https://docs.npmjs.com/cli/)で利用可能になります。

### 新しいパッケージのセキュア・バイ・デフォルトの2FA(新機能)
- 今週から、2FA適用がすべての新しいパッケージ公開のデフォルトオプションになります。新しいパッケージを作成すると、パッケージ設定でデフォルトで2FAが有効になります。これにより、手動でセキュリティ設定を行うことなく、パッケージが作成された瞬間から保護されます。既存のパッケージは現在の2FA設定を保持します。

### レガシーAPIエンドポイントのサポートを一時的に復元
- 11月に互換性の問題を引き起こしていたレガシーAPIエンドポイント(`/user/org.couchdb.user:`)のサポートを一時的に復元しました。このエンドポイントは、`npm login`で使用されるのと同じ2時間のセッショントークンを生成するようになり、公開時には2時間ごとに再認証が必要になります。
- これは移行期間を提供するための一時的な措置です。このレガシーエンドポイントの削除は差し迫っており、今後数か月以内に計画されています。中断を避けるため、今すぐ最新の認証方法に移行することを強くお勧めします。
- **注意:** このエンドポイントは主にYarn v1およびv2のユーザーに影響します。これらのバージョンを使用している場合は、現在のnpmセキュリティ標準をサポートする最新のパッケージマネージャーまたは認証方法へのアップデートをお勧めします。

### npm classicトークンをまだ使用していた場合
- npm classicトークンは本日使用できなくなりました。アクセスを復元する方法は次のとおりです:
- ローカル開発の場合、`npm login`を実行して新しい2時間のセッションを作成します。定期的に再認証する必要がありますが、これによりセキュリティが向上します。
- CI/CDワークフローの場合、新しいCLIコマンド(`npm token create`)または[npmjs.com/settings/~/tokens](https://www.npmjs.com/settings/~/tokens)で粒度の細かいアクセストークンを作成します。これらのトークンを設定する際、非対話型の自動化ワークフロー用に**Bypass 2FA**を有効にし、適切な有効期限を設定できます(書き込みトークンは最大90日に制限されています)。最も安全なデプロイメントには、パッケージ公開用のトークンの生成と管理が不要になる[OIDC trusted publishing](https://docs.npmjs.com/trusted-publishers)の採用を検討してください。

### 次のステップ
- npmのセキュリティを強化する過程でのご忍耐に感謝します。これらの変更は、お客様が依存するワークフローを維持しながら、JavaScript エコシステム全体を保護します。セキュリティロードマップと継続的な改善の詳細については、[コミュニティディスカッション](https://github.com/orgs/community/discussions/179562)をご覧ください。

## Impact / Who’s Affected
- これにより、以前はclassicトークンでのみ利用可能だったのと同じ便利なコマンドライン体験が提供されます。
- これらのトークンを設定する際、非対話型の自動化ワークフロー用にBypass 2FAを有効にし、適切な有効期限を設定できます(書き込みトークンは最大90日に制限されています)。

## Caveats / Limitations
- これにより、以前はclassicトークンでのみ利用可能だったのと同じ便利なコマンドライン体験が提供されます。
- **注意:** このエンドポイントは主にYarn v1およびv2のユーザーに影響します。
- これらのトークンを設定する際、非対話型の自動化ワークフロー用にBypass 2FAを有効にし、適切な有効期限を設定できます(書き込みトークンは最大90日に制限されています)。

## Insights (derived from article language)
- これらのバージョンを使用している場合は、現在のnpmセキュリティ標準をサポートする最新のパッケージマネージャーまたは認証方法へのアップデートをお勧めします。
- 最も安全なデプロイメントには、パッケージ公開用のトークンの生成と管理が不要になるOIDC trusted publishingの採用を検討してください。
- セキュリティロードマップと継続的な改善の詳細については、コミュニティディスカッションをご覧ください。

## Article Content (cleaned)
[以前発表した](https://github.blog/changelog/2025-11-05-npm-security-update-classic-token-creation-disabled-and-granular-token-changes/)とおり、本日、npm classicトークンの非推奨化を完了します。これは、npmの認証システムを強化する[セキュリティ強化イニシアチブ](https://github.com/orgs/community/discussions/178140)の重要なマイルストーンです。


## [What’s changing today (December 9, 2025\)](#whats-changing-today-december-9-2025)


### [npm classicトークンが永久に失効](#npm-classic-tokens-permanently-revoked)


既存のすべてのnpm classicトークンを永久に失効させました。これらは認証に使用できなくなり、再作成も回復もできません。


### [新しいセッションベースの認証](#new-session-based-authentication)


本日より、`npm login`を使用すると、長期有効トークンの代わりに2時間のセッショントークンを受け取ります。これらのセッションは2時間後に自動的に期限切れになり、公開を続けるには再認証が必要です。従来のトークンとは異なり、セッショントークンはUIやCLIトークンリストに表示されません。バックグラウンドで機能して認証済みセッションを維持します。これらのセッション中、公開操作には2FAが適用され、セキュリティが追加されます。


### [粒度の細かいトークン用の新しいCLIトークン管理ツール](#new-cli-token-management-tool-for-granular-tokens)


npmは、粒度の細かいアクセストークンを管理するために特別に設計された新しいコマンドラインツールを導入します。この新しいCLIツールは、ターミナルから直接粒度の細かいトークンを作成、リスト化、失効させる機能を提供し、トークン管理のためにnpmウェブサイトを訪問する必要がなくなります。


これにより、以前はclassicトークンでのみ利用可能だったのと同じ便利なコマンドライン体験が提供されます。


新しいトークン管理コマンドの完全なドキュメントは、[npm CLIドキュメント](https://docs.npmjs.com/cli/)で利用可能になります。


### [新しいパッケージのセキュア・バイ・デフォルトの2FA(新機能)](#secure-by-default-2fa-for-new-packages-new)


今週から、2FA適用がすべての新しいパッケージ公開のデフォルトオプションになります。新しいパッケージを作成すると、パッケージ設定でデフォルトで2FAが有効になります。これにより、手動でセキュリティ設定を行うことなく、パッケージが作成された瞬間から保護されます。既存のパッケージは現在の2FA設定を保持します。


### [レガシーAPIエンドポイントのサポートを一時的に復元](#legacy-api-endpoint-support-temporarily-restored)


11月に互換性の問題を引き起こしていたレガシーAPIエンドポイント(`/user/org.couchdb.user:`)のサポートを一時的に復元しました。このエンドポイントは、`npm login`で使用されるのと同じ2時間のセッショントークンを生成するようになり、公開時には2時間ごとに再認証が必要になります。


これは移行期間を提供するための一時的な措置です。このレガシーエンドポイントの削除は差し迫っており、今後数か月以内に計画されています。中断を避けるため、今すぐ最新の認証方法に移行することを強くお勧めします。


**注意:** このエンドポイントは主にYarn v1およびv2のユーザーに影響します。これらのバージョンを使用している場合は、現在のnpmセキュリティ標準をサポートする最新のパッケージマネージャーまたは認証方法へのアップデートをお勧めします。


## [What you need to do](#what-you-need-to-do)


### [npm classicトークンをまだ使用していた場合](#if-you-were-still-using-npm-classic-tokens)


npm classicトークンは本日使用できなくなりました。アクセスを復元する方法は次のとおりです:


ローカル開発の場合、`npm login`を実行して新しい2時間のセッションを作成します。定期的に再認証する必要がありますが、これによりセキュリティが向上します。


CI/CDワークフローの場合、新しいCLIコマンド(`npm token create`)または[npmjs.com/settings/\~/tokens](https://www.npmjs.com/settings/~/tokens)で粒度の細かいアクセストークンを作成します。これらのトークンを設定する際、非対話型の自動化ワークフロー用に**Bypass 2FA**を有効にし、適切な有効期限を設定できます(書き込みトークンは最大90日に制限されています)。最も安全なデプロイメントには、パッケージ公開用のトークンの生成と管理が不要になる[OIDC trusted publishing](https://docs.npmjs.com/trusted-publishers)の採用を検討してください。


## [What’s next?](#whats-next)


npmのセキュリティを強化する過程でのご忍耐に感謝します。これらの変更は、お客様が依存するワークフローを維持しながら、JavaScript エコシステム全体を保護します。セキュリティロードマップと継続的な改善の詳細については、[コミュニティディスカッション](https://github.com/orgs/community/discussions/179562)をご覧ください。
